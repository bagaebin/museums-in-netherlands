# 인터랙션 스펙

## 사물함 드래그 동작
- 기본적으로 그리드에 배치되지만, 추후 Draggable 라이브러리를 연결해 사용자가 문을 끌어 당길 수 있도록 확장한다.
- 드래그 시작 시 기존 인접 상태를 저장해 관계선을 계산한다.

## 치즈 곡선 생성 및 업데이트
- 두 락커가 붙어 있다가 일정 거리 이상 떨어지면 `path`를 그린다.
- 시작/끝 좌표는 각 락커의 중심 위치에서 계산하고, 중간 제어점은 두 점의 평균값 위쪽으로 올려 곡률을 만든다.
- 거리 값에 따라 곡선의 길이가 늘어나며, `stroke`와 투명도가 살짝 증가한다.

## 관계 텍스트 글자 단위 등장
- `path.getTotalLength()`로 길이를 측정하거나, 현재 거리와 최대 거리 비율을 활용한다.
- 비율에 맞춰 라벨 문자열을 슬라이스하여 `<textPath>` 안에 렌더한다.
- 거리 0일 때는 숨기고, 최대 거리에 도달하면 전체 라벨이 노출된다.

## 사물함 문 애니메이션
- `rotateY: -90`으로 왼쪽 힌지를 기준으로 여닫기.
- `transformOrigin: "left center"`로 실제 문처럼 회전한다.
- `spring` 트랜지션(스티프니스 200, 댐핑 20)으로 탄성 있는 움직임을 부여한다.

## 내부 배경 확장 애니메이션
- clip-path inset 버전: `closed` → `inset(50% 50% 50% 50%)`, `open` → `inset(0% 0% 0% 0% round 16px)`.
- circle 버전: `closed` → `circle(0px at 50% 50%)`, `open` → `circle(radius px at 50% 50%)`.
- 문이 열리고 약 0.12초 후 배경 확장이 시작되도록 지연을 둔다.

## 상세 콘텐츠 등장 타이밍
- 배경 확장 이후 0.25초 지연 후 콘텐츠가 `opacity: 1`, `y: 0`으로 부드럽게 나타난다.
- 닫힐 때는 반대로 `opacity: 0`, `y: 10`으로 빠르게 숨긴다.
