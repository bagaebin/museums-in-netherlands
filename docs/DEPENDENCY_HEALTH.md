# 의존성 경고 대응 가이드

npm 설치 시 표시되는 deprecated 및 보안 경고를 완화하기 위한 체크리스트입니다.

## 1) npm 설치 전 환경 확인
- 내부 프록시/미러 환경이면 `.npmrc`에 레지스트리 주소를 명시하세요. 이 저장소에는 기본 npm 공개 레지스트리를 가리키도록 `.npmrc`가 포함되어 있습니다.
- 네트워크 정책으로 403이 발생할 수 있으니, 사내 레지스트리가 있다면 해당 주소로 변경합니다.

## 2) 의존성 갱신 절차
- **보안 및 폐기(deprecated) 패키지 업데이트:** `package.json`의 `overrides`로 `glob`, `rimraf`, `@humanwhocodes/*`를 최신 패치로 고정해 경고를 줄였습니다. 필요 시 다음 명령으로 실제 설치물을 새로 생성합니다.
  ```bash
  npm install --package-lock-only
  npm install
  ```
- **npm 감사:** 락파일 생성 후 `npm audit fix` 또는 영향이 큰 경우 `npm audit fix --force`를 실행합니다. 강제 옵션은 브레이킹 체인지가 있을 수 있으니 빌드 후 수동 점검이 필요합니다.
- **업데이트 확인:** `npm outdated`로 상위 의존성을 확인하고, `next`, `framer-motion`, 타입 패키지 등을 주기적으로 최신 패치로 올립니다.

## 3) ESLint 경고
- Next.js가 가져오는 ESLint 8.x가 더 이상 지원되지 않는다는 경고가 있을 수 있습니다. Next.js 버전 업으로 해결되는 경우가 많으므로, 장기적으로는 최신 LTS 릴리스(Next 15.x 이후)를 적용하고 락파일을 재생성하세요.

## 4) 설치 실패(403 등) 대처
- `npm config get registry`로 실제 사용 중인 레지스트리를 확인하고, 권한이 있는 주소로 교체합니다.
- 사내 인증이 필요한 경우 토큰/로그인을 선행해야 합니다.

## 5) 커밋 전 점검
- 락파일이 생성되면 `npm audit --omit=dev`로 프로덕션 경로만 우선 확인합니다.
- 빌드/테스트(`npm run build`, `npm run lint`)를 실행해 업데이트로 인한 회귀가 없는지 확인합니다.
